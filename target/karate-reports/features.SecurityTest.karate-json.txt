{"failedCount":0,"prefixedPath":"classpath:features\/SecurityTest.feature","packageQualifiedName":"features.SecurityTest","loopIndex":-1,"relativePath":"features\/SecurityTest.feature","scenarioResults":[{"sectionIndex":2,"stepResults":[{"result":{"nanos":1913600,"millis":1.9136,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url \"https:\/\/tek-insurance-api.azurewebsites.net\""},"stepLog":"11:12:05.891 karate.env system property was: null \n"},{"result":{"nanos":15501317800,"millis":15501.3178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def token = call read(\"GenerateToken.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/GenerateToken.feature","packageQualifiedName":"features.GenerateToken","loopIndex":-1,"relativePath":"features\/GenerateToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":363300,"millis":0.3633,"status":"passed"},"step":{"line":3,"prefix":"Given","index":0,"text":"url \"https:\/\/tek-insurance-api.azurewebsites.net\""}},{"result":{"nanos":582400,"millis":0.5824,"status":"passed"},"step":{"line":4,"prefix":"*","index":1,"text":"path \"\/api\/token\""}},{"result":{"nanos":263768600,"millis":263.7686,"status":"passed"},"step":{"line":5,"prefix":"*","index":2,"text":"request {\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}"}},{"result":{"nanos":15173015200,"millis":15173.0152,"status":"passed"},"step":{"line":6,"prefix":"*","index":3,"text":"method post"},"stepLog":"11:12:19.788 request:\n1 > POST https:\/\/tek-insurance-api.azurewebsites.net\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: tek-insurance-api.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.15.1)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n11:12:21.594 response time in milliseconds: 1613\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Tue, 06 Dec 2022 19:12:21 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"SUPERVISOR\",\"token\":\"eyJraWQiOiJUZWtzY2hvb2wgSW5zdXJhbmNlIEFwcGxpY2F0aW9uIiwidHlwIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJhdWQiOiJVc2VyIG1hbmFnZW1lbnQgcG9ydGFsIiwic3ViIjoiU1VQRVJWSVNPUiIsImlzcyI6IlRlayBJbnN1cmFuY2UgQXBwbGljYXRpb24iLCJBdXRob3JpdGllcyI6WyJBRE1JTiJdLCJleHAiOjE2NzA0NDAzNDEsImlhdCI6MTY3MDM1Mzk0MX0.hCSEU5xNlQx150zL7BiDbcf9-hUYfOxd7E24CVV51owiMDCM5milnkyqkS01V-b34jung9GpoGrusg6toBIKUw\",\"generateDate\":1670353941860,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":43078700,"millis":43.0787,"status":"passed"},"step":{"line":7,"prefix":"*","index":4,"text":"print response.token"},"stepLog":"11:12:21.643 [print] eyJraWQiOiJUZWtzY2hvb2wgSW5zdXJhbmNlIEFwcGxpY2F0aW9uIiwidHlwIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJhdWQiOiJVc2VyIG1hbmFnZW1lbnQgcG9ydGFsIiwic3ViIjoiU1VQRVJWSVNPUiIsImlzcyI6IlRlayBJbnN1cmFuY2UgQXBwbGljYXRpb24iLCJBdXRob3JpdGllcyI6WyJBRE1JTiJdLCJleHAiOjE2NzA0NDAzNDEsImlhdCI6MTY3MDM1Mzk0MX0.hCSEU5xNlQx150zL7BiDbcf9-hUYfOxd7E24CVV51owiMDCM5milnkyqkS01V-b34jung9GpoGrusg6toBIKUw \n"},{"result":{"nanos":2884800,"millis":2.8848,"status":"passed"},"step":{"line":8,"prefix":"*","index":5,"text":"print response.fullName"},"stepLog":"11:12:21.646 [print] Supervisor \n"},{"result":{"nanos":178200,"millis":0.1782,"status":"passed"},"step":{"line":9,"prefix":"*","index":6,"text":"status 200"}}],"executorName":"main","line":2,"name":"Generate a token for CSR portal","description":"","durationMillis":15483.8712,"startTime":1670353926162,"failed":false,"refId":"[1:2]","endTime":1670353941647,"exampleIndex":-1}],"callDepth":1,"name":"Token Generator for Insurance API","description":"","resultDate":"2022-12-06 11:12:22 AM","durationMillis":15483.8712,"passedCount":1}]},{"result":{"nanos":1764000,"millis":1.764,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def tokenValue = token.response.token"}},{"result":{"nanos":2666200,"millis":2.6662,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"path \"\/api\/token\/verify\""}},{"result":{"nanos":1762700,"millis":1.7627,"status":"passed"},"step":{"line":29,"prefix":"*","index":0,"text":"param token = \"invalid value\""}},{"result":{"nanos":514300,"millis":0.5143,"status":"passed"},"step":{"line":30,"prefix":"*","index":1,"text":"param username = \"supervisor\""}},{"result":{"nanos":289565400,"millis":289.5654,"status":"passed"},"step":{"line":31,"prefix":"*","index":2,"text":"method get"},"stepLog":"11:12:21.660 request:\n1 > GET https:\/\/tek-insurance-api.azurewebsites.net\/api\/token\/verify?token=invalid+value&username=supervisor\n1 > Host: tek-insurance-api.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.15.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n11:12:21.944 response time in milliseconds: 283\n1 < 400\n1 < Content-Type: application\/json\n1 < Date: Tue, 06 Dec 2022 19:12:21 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n{\"errorCode\":\"TOKEN_EXPIRED\",\"httpStatus\":\"BAD_REQUEST\",\"errorMessage\":\"Token Expired or Invalid Token\"}\n\n"},{"result":{"nanos":7854300,"millis":7.8543,"status":"passed"},"step":{"line":32,"prefix":"*","index":3,"text":"print response"},"stepLog":"11:12:21.958 [print] {\n  \"errorCode\": \"TOKEN_EXPIRED\",\n  \"httpStatus\": \"BAD_REQUEST\",\n  \"errorMessage\": \"Token Expired or Invalid Token\"\n}\n \n"},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":33,"prefix":"*","index":4,"text":"status 400"}},{"result":{"nanos":68760500,"millis":68.7605,"status":"passed"},"step":{"line":34,"prefix":"*","index":5,"text":"match response.errorMessage == \"Token Expired or Invalid Token\""}}],"line":28,"description":"","durationMillis":15876.1309,"failed":false,"tags":["test"],"executorName":"main","name":"Verify invalid token with Valid userName","startTime":1670353925831,"refId":"[3:28]","endTime":1670353942027,"exampleIndex":-1}],"callDepth":0,"name":"Verify TEK Insurance Token","description":"","resultDate":"2022-12-06 11:12:22 AM","durationMillis":15876.1309,"passedCount":1}